---
title: 家庭影音库搭建的心路历程
date: 2023-08-15 15:17:35
slug: /home-theater-idea
tags:
  - 家庭影院
categories:
  - 娱乐
series:
  - 娱乐
enableTOC: false
link:
tag: #ZK卡片 
---

经过最近一段时间的折腾，终于完成了家庭影音库，实现了比较理想的效果，谨以此文做一下记录。需要指出的是，中间可能有一些软硬件的使用门槛（价格、设备等要求）较高，故肯定不适用于任何人，当然本文也会给出开源免费的方案，以便有需求的小伙伴根据关键字自行检索。

先来简单说一下，所谓的“家庭影音库”，到底是干嘛的，我是个喜欢看电视的人，看一部好电影，刷一部好剧，对我来说比任何方式都解压，所以在拥有自己的电视后，电视就成为了我最常使用的“电子设备”了。
但众所周知现在的电视因为各种各样的原因，根本就无法安心的刷剧，所以为了在电视上刷自己喜欢的影视作品，我开始了自己的折腾之旅。

首先是最终的效果展示以及使用到的一些设备、软件等。

![image-20230815193647600](https://kiwi4814-1256211473.cos.ap-nanjing.myqcloud.com/img/image-20230815193647600.webp)

硬件：群晖NAS、Apple TV 4K
软件：TMM、kodi、infuse

![image-20230815193833530](https://kiwi4814-1256211473.cos.ap-nanjing.myqcloud.com/img/image-20230815193833530.webp)

对于我喜欢的影视作品，我的要求很多，画质、音质，尤其是字幕，字幕的质量很多时候直接影响到观看体验，因为音译的关系，不同版本的译名差距简直云泥之别。以哈利波特系列电影为例，这个系列小说在国内有很多个版本，而电影则跨越了长达十多年的时间。这其中各种人名、地名以及咒语的翻译千奇百怪，这里不去讨论孰优孰劣，想象下你从第一部看到最后一部，看着看着，上一部熟悉的人名和咒语名下一部完全不一样了，这是个什么体验，更别说里面还有大量的信件，对于英文不好的同学来说简直是折磨。所以综上，特定的影视作品有时候我会去找特定的版本，比如衣柜字幕组翻译的《权力的游戏》，电波字幕组翻译的《Rick And Morty》等等。

影视作品是存在硬盘里的（废话），NAS、电脑硬盘以及冷备份的移动硬盘可能都有一些，那现在的问题就是如何在电视上直接播放这些资源了。我是通过SMB协议完成的，SMB协议是什么以及如何使用这里就不展开了，大家稍微检索一下就有了，只需要知道现在在电视上可以通过SMB协议直接读取到家里任何已经开机的硬盘就行了。

最开始的做法是在电视上安装了ES文件管理器以及MX Player，分别是安卓系统的文件管理器和视频播放器，可以读取对应的文件进行播放，但是问题很多，没有播放记录、字幕渲染不太完美等等，而且每次开一部剧太麻烦了，要找到文件的位置，回忆起来自己看到多少集了，所以简单尝试了下我就放弃了。

这里穿插一个概念，刮削器，我们打开电视选择要看什么的时候，一般会有影视海报、剧情简介以及演员信息等方便我们事先了解以便筛选，但是我们本地购买或者下载的资源一般是没有这些的，所以文件名就是我们选择要看什么的唯一渠道了，所谓的刮削器，就是把一个影视资源相关的所有介绍信息从特定的网站上下载下来的一个工具，其实本质就是从开放数据库读取影视数据并且以一定的格式存储到本地的一个过程。这样即使我们在浏览自己硬盘里的资源的时候，也能很方便的进行选片的操作。

很多软件是自带这样一个刮削功能的，你把你的影视目录配置到软件里，它会自动读取文件名并且去影视库匹配和展示，比如大名鼎鼎的家庭影院三剑客Plex、jellyfin以及emby都有这个功能，除此以外，由于资源的名称并不总是符合刮削的规则，会有找不到或者找错的情况，也有单独的刮削器可以方便你管理这些数据，这其中最有名的应该是tinyMediaManager，这个软件的使用我们以后可以单独写文章来介绍，这里只需要知道刮削这个概念就行了。有了刮削，那么其实就可以实现这样的功能，把自己的资源都整理出来，做成一个海报墙，实现一个本地的爱奇艺。

##### Plex

一般说到家庭影音中心，离不开三个软件，plex、jellyfin、emby 。与kodi不同的是，这几款软件都是必须依赖于服务端才能运行的，也就是说你必须把他们安装在服务器上进行配置，然后才能在客户端（这里就是电视了）进行使用，没有NAS的话可以安装在PC平台。这几款软件都是集成刮削、解码、播放、记录于一体的，并且可以有很好看的海报墙。我是前几年黑五购入了Plex Lifetime Pass，下面所说的连接plex的步骤都可以使用jellyfin和emby替代。

然后我开始研究kodi，kodi也是一款全平台的影视播放器，而且对于安卓电视来说应该是最全能的一款播放器了，支持很多定制化功能，由于是客户端解码，速度很快，看蓝光资源也毫无压力。最开始我是将其作为一款离线播放器用的（主要是懒），后来看电视剧的时候觉得每次都得找上次看到哪里太不方便了，索性定下心来折腾了一下。不得不说kodi的定制太强大了，经历各种换皮肤、各种插件的一番操作，终于做的比较像样了。

![4901692098955_.pic](https://kiwi4814-1256211473.cos.ap-nanjing.myqcloud.com/img/4901692098955_.pic.webp)

![4891692098846_.pic](https://kiwi4814-1256211473.cos.ap-nanjing.myqcloud.com/img/4891692098846_.pic.webp)

不过还是有很多缺点，首先是网络问题确实不太友好，插件刮削器的连接太不稳定了，其次电影海报不能同时展示海报和片名，这在找电影的时候不是很方便，最后就是UI，虽然换的皮肤外观还算不错，但换皮肤本身太麻烦了，而且还会有中文乱码的问题，不过毕竟是开源软件，能做到这样我觉得已经很优秀了。

不过最重要的是，虽然kodi作为一款播放器非常优秀，但毕竟是直接安装在客户端上的，当要管理的资源多了之后，非常的不方便管理，毕竟要在电视上管理这么多影视作品太痛苦了。虽然kodi可以安装plex插件直接连接plex使用，但一方面因为网络问题我尝试了好久才成功，另外一方面使用的时候总感觉少点什么。

可能有人要问，电视上不是有plex软件可以下载么，为什么不直接用plex呢？这个其实我也试过，但是plex不支持客户端解码，即使在nas开启硬解的情况下播放4K蓝光资源也会很卡顿，更别说拖进度条了，虽然外观好看，但实际播放体验比kodi差了一大截。

##### 终极杀器 infuse

电视上的折腾过程就到此为止，算是比较好用的电视墙了，虽然不是特别完美，但对于现阶段的我来说已经够用。直到有一天我看到了Apple TV 4K，并且看到了infuse这款软件，在mac上简单的体验了infuse之后，我决定入手一台Apple TV。

不得不说苹果的UI真的是整齐划一的好看，有一种精致感。除了infuse，还尝试了cheers、APTV等好用的软件，这个可以后面单独介绍下。infuse可以直接连接plex，并且和plex同步数据，包括播放列表、播放记录等，并且所有苹果设备都可以使用和同步数据。此外，除了plex之外，还可以通过webdav协议连接各种网盘工具，实现网盘资源的刮削和播放，搭配时下最流行的alist，可以把阿里云等网盘挂载为本地盘，并且进行刮削和展示。





